function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function parseURL(e){var t=document.createElement("a");return t.href=e,t}function debounce(e,t,n){var a;return function(){var r=this,i=arguments,o=function(){a=null,n||e.apply(r,i)},s=n&&!a;clearTimeout(a),a=setTimeout(o,t),s&&e.apply(r,i)}}(function(){window.$&&window.$.ajaxPrefilter&&$(function(){return $.ajaxPrefilter(function(e,t,n){var a,r;return r=$("meta[name=csrf-token]"),a=r?r.attr("content"):"",n.setRequestHeader("x-stripe-csrf-token",a)})})}).call(this),Prism.languages.bash["function"]={pattern:new RegExp(/(^|\s|;|\||&)(?:pip|easy_install|gem|npm|go|get)(?=$|\s|;|\||&)/.source+"|"+Prism.languages.bash["function"].pattern.source)},Prism.languages.insertBefore("bash","function",{stripe:/(^|\s|;|\||&)(?:stripe)(?=$|\s|;|\||&)/,url:/(https?:\/\/)?\w*\.\w{2,3}[a-zA-Z0-9:.?=\/\-_]*/,option:/\b--?[a-zA-Z]*\b/}),Prism.languages.url={parameter:/[A-Za-z0-9\[\]-_]+(?=[=])/,value:{pattern:/([=])([^=&]*)/,lookbehind:!0}},Prism.languages.iris={string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/if|and|or/,"function":/Block|Allow|Review/,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*:/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i};var erbOptions={pattern:/(<%(.*)%>)/i,inside:Prism.languages.ruby,alias:"language-ruby"};Prism.languages.erb=Prism.languages.html,Prism.languages.insertBefore("erb","tag",{erb:erbOptions}),Prism.languages.objc=Prism.languages.objectivec,Prism.languages.insertBefore("objc","keyword",{builtin:Prism.languages.swift.builtin}),Prism.languages.ruby.keyword=new RegExp(Prism.languages.ruby.keyword.source+/|private/.source),Prism.languages.ruby["function"]={pattern:/(\.)[a-z0-9_]+(?=[\(\n \[,])/i,lookbehind:!0},Prism.languages.curl={curl:/\bcurl\b/,url:/https?:[a-zA-Z0-9:.?=\/\-_{}]*/,parameter:{pattern:/[A-Za-z0-9\[\]-_]+ *(?=[=])/},value:[{pattern:/([=])([A-Za-z0-9-_.]*)/,lookbehind:!0},{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/},{pattern:/(\-u )([A-Za-z0-9-_.{}]*)/,lookbehind:!0}],option:/ *-[a-zA-Z]*\b/},Prism.languages.javascript.string.inside={erb:erbOptions},Prism.languages.insertBefore("javascript","punctuation",{erb:erbOptions}),Prism.languages.insertBefore("javascript","punctuation",{symbol:{pattern:/([a-zA-Z][a-zA-Z0-9-_]*)(?: *[:])/,inside:{punctuation:/:/}},property:{pattern:/([.])[a-zA-Z-_]*/,lookbehind:!0}}),Prism.languages.insertBefore("php","package",{namespace:{pattern:/\\[A-Z][A-Za-z]+/}}),Prism.languages.insertBefore("python","comment",{parameter:{pattern:/([\(,] *(#.*)?[.\n]* *)[A-Za-z]+ *(?=[=])/,lookbehind:!0,inside:{operator:/=/}}}),Prism.languages.insertBefore("python","punctuation",{"function":{pattern:/[A-Za-z]+(?=\()/,inside:{punctuation:/[.]/}},constant:{pattern:/stripe[A-Za-z-_.]*/},variable:{pattern:/([.])[A-Za-z-_]+/,lookbehind:!0}}),Prism.languages.insertBefore("java","class-name",{constant:{pattern:/\b[A-Z][a-zA-Z-_]*(<[A-Z][a-zA-Z, ]*>)?/}}),Prism.languages.insertBefore("go","comment",{symbol:{pattern:/([\{,] *(\/\/.*)?[.\n]* *)[A-Za-z]+:/,lookbehind:!0,inside:{operator:/=/}},constant:{pattern:/&[A-Za-z. ]*(?={)/}}),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Prism.languages.csharp=Prism.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,string:[{pattern:/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,greedy:!0},{pattern:/("|')(\\?.)*?\1/,greedy:!0}],number:/\b-?(0x[\da-f]+|\d*\.?\d+f?)\b/i}),Prism.languages.dotnet=Prism.languages.csharp,Prism.languages.insertBefore("csharp","keyword",{"generic-method":{pattern:/[a-z0-9_]+\s*<[^>\r\n]+?>\s*(?=\()/i,alias:"function",inside:{keyword:Prism.languages.csharp.keyword,punctuation:/[<>(),.:]/}},preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(\s*#)\b(define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}}),Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},string:{pattern:/(^|[^@\\])("|')(?:\\?[\s\S])*?\2/,greedy:!0,lookbehind:!0},variable:/@[\w.$]+|@("|'|`)(?:\\?[\s\S])+?\1/,"function":/\b(?:COUNT|SUM|AVG|MIN|MAX|FIRST|LAST|UCASE|LCASE|MID|LEN|ROUND|NOW|FORMAT)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR VARYING|CHARACTER (?:SET|VARYING)|CHARSET|CHECK|CHECKPOINT|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMN|COLUMNS|COMMENT|COMMIT|COMMITTED|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS|CONTAINSTABLE|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|DATA(?:BASES?)?|DATE(?:TIME)?|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITER(?:S)?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE(?: PRECISION)?|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE KEY|ELSE|ENABLE|ENCLOSED BY|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPE(?:D BY)?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTO|INVOKER|ISOLATION LEVEL|JOIN|KEYS?|KILL|LANGUAGE SQL|LAST|LEFT|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MODIFIES SQL DATA|MODIFY|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL(?: CHAR VARYING| CHARACTER(?: VARYING)?| VARCHAR)?|NATURAL|NCHAR(?: VARCHAR)?|NEXT|NO(?: SQL|CHECK|CYCLE)?|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READ(?:S SQL DATA|TEXT)?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEATABLE|REPLICATION|REQUIRE|RESTORE|RESTRICT|RETURNS?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE MODE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|START(?:ING BY)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED BY|TEXT(?:SIZE)?|THEN|TIMESTAMP|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNPIVOT|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?)\b/i,"boolean":/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b-?(?:0x)?\d*\.?[\da-f]+\b/,operator:/[-+*\/=%^~]|&&?|\|?\||!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|IN|LIKE|NOT|OR|IS|DIV|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},Prism.languages.groovy=Prism.languages.extend("clike",{keyword:/\b(as|def|in|abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,string:[{pattern:/("""|''')[\s\S]*?\1|(\$\/)(\$\/\$|[\s\S])*?\/\$/,greedy:!0},{pattern:/("|'|\/)(?:\\?.)*?\1/,greedy:!0}],number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?[\d]+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.{1,2}(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),Prism.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment"}}),Prism.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(setup|given|when|then|and|cleanup|expect|where):/}),Prism.languages.insertBefore("groovy","function",{annotation:{alias:"punctuation",pattern:/(^|[^.])@\w+/,lookbehind:!0}}),Prism.hooks.add("wrap",function(e){if("groovy"===e.language&&"string"===e.type){var t=e.content[0];if("'"!=t){var n=/([^\\])(\$(\{.*?\}|[\w\.]+))/;"$"===t&&(n=/([^\$])(\$(\{.*?\}|[\w\.]+))/),e.content=e.content.replace(/&lt;/g,"<").replace(/&amp;/g,"&"),e.content=Prism.highlight(e.content,{expression:{pattern:n,lookbehind:!0,inside:Prism.languages.groovy}}),e.classes.push("/"===t?"regex":"gstring")}}}),Prism.languages.markup.tag.inside["attr-value"].inside={punctuation:/[=>]/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/},function(){"undefined"!=typeof self&&self.Prism&&self.document&&Prism.hooks.add("complete",function(e){if(e.code){var t=e.element.parentNode;if(t.classList.contains("numbered")){var n,a=e.code.match(/\n(?!$)/g),r=a?a.length+1:1,i=new Array(r+1);i=i.join("<span></span>"),n=document.createElement("span"),n.className="line-numbers",n.innerHTML=i,t.hasAttribute("data-start")&&(t.style.counterReset="linenumber "+(parseInt(t.getAttribute("data-start"),10)-1)),t.appendChild(n)}}})}(),function(){function e(e){for(var t,n=[],a=0;a<e.length;a++){var r=e[a];t?t[1]==r-1?t[1]=r:(n.push(t),t=[r,r]):t=[r,r]}return t&&n.push(t),n}function t(t,n,a){for(var a=a.split(",").map(function(e){return parseInt(e)}).sort(function(e,t){return e-t}),r=e(a),i=parseInt(getComputedStyle(n).lineHeight),o=t.querySelectorAll(".line-numbers span"),s=0;s<r.length;s++){var l=r[s],c=l[0],u=l[1],d=document.createElement("div");d.className="highlighted-line",d.style.top=(c-1)*i+"px",d.style.height=(u-c+1)*i+"px",t.insertBefore(d,t.firstChild);for(var g=c;g<=u;g++)o[g-1].classList.add("highlighted")}}Prism.hooks.add("complete",function(e){var n=e.element.parentNode,a=n&&n.getAttribute("data-highlight-lines");n&&a&&/pre/i.test(n.nodeName)&&t(n,e.element,a)})}();var tools=function(){return{merge:function(e,t){var n={};for(k in e)n[k]=e[k];for(k in t)n[k]=t[k];return n},remove:function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}}(),scroll=function(){var e=document.querySelector("#content-wrapper");return{get:function(){return e.scrollTop},set:function(t){e.scrollTop=t},el:function(){return e}}}(),faqs=function(){function e(e){for(var t=e.querySelectorAll("dl.collapsable dt"),n=0;n<t.length;n++)!function(){var e=t[n];e.addEventListener("click",function(){e.classList.toggle("expanded")})}()}return{run:e}}(),tabs=function(){function e(e){d=[];for(var t=e.querySelectorAll("div.tabs"),n=0;n<t.length;n++){var a=t[n];a.getAttribute("data-ignore")||o(a)}}function t(e){return e&&"server"!==e?"lang-"+e:"lang"}function n(e){return g[e]?g[e]:g[e]=$.cookie(t(e))}function a(e,a){if(e!==n(a)){g[a]=e,$.cookie(t(a),e,{expires:1825,path:"/",domain:function(){var e=window.location.hostname||"stripe.com";return e.match("stripe.com")?".stripe.com":e}()});for(var i=0;i<d.length;i++)r(d[i])}}function r(e){var t=s(e.tabs,n(e.platform));t&&i(e,t)}function i(e,t,n){if(e.currentTab!==t){n=null==n||n;var a=e.el.getBoundingClientRect(),r=window.innerHeight;n=n&&a.top<r&&a.top+a.height>0&&e.animated;var i=e.currentTab;e.currentTab=t,requestAnimationFrame(function(){i&&(i.link&&i.link.classList.remove("selected"),i.el.classList.add("absolute"),dynamics.animate(i.el,{opacity:0,translateX:-300*(i.index<t.index?1:-1)},{friction:250,duration:300,animated:n,complete:function(){i!==e.currentTab&&i.el.classList.remove("selected")}})),t.link&&t.link.classList.add("selected"),t.el.classList.remove("absolute"),t.el.classList.add("selected"),dynamics.css(t.el,{opacity:0,translateX:300*(i.index<t.index?1:-1)}),dynamics.animate(t.el,{opacity:1,translateX:0},{friction:250,duration:300,animated:n,delay:50}),e.callback&&window[e.callback]&&window[e.callback](t.el.getAttribute("id"))})}}function o(e){for(var t=e.querySelectorAll("nav a"),r=e.querySelector("nav select"),o=e.querySelectorAll(".tabs-content > pre, .tabs-content > .code, .tabs-content > .tabs-tab"),l=e.getAttribute("data-platform"),c=e.getAttribute("data-save-url"),g=e.getAttribute("data-save-url-prefix"),p=e.querySelector("nav a.selected"),h={el:e,animated:e.classList.contains("animated"),callback:e.getAttribute("data-callback"),currentTab:null,tabs:[],platform:l},m=0;m<o.length;m++)!function(){var e=t[m],n=e&&e.getAttribute("data-language"),r={index:m,link:e,el:o[m],language:n};c&&(r.hash="#"+(g||"")+r.el.getAttribute("id")),h.tabs.push(r),e&&e.addEventListener("click",function(t){if(t.preventDefault(),n){var o=scroll.get(),s=e.getBoundingClientRect().top;a(n,l),requestAnimationFrame(function(){var t=e.getBoundingClientRect().top;scroll.set(o+(t-s)),o=scroll.get(),t=e.getBoundingClientRect().top,scroll.set(o+(t-s))})}else c&&history.replaceState({},"",window.location.pathname+r.hash),i(h,r)})}();r&&r.addEventListener("change",function(){i(h,h.tabs[r.selectedIndex])}),d.push(h);var f=s(h.tabs,n(h.platform));if(r&&(f=f||h.tabs[r.selectedIndex]),p&&(f=f||u(h,p)),f=f||h.tabs[0],f&&(h.currentTab=f,f.link&&(h.tabs.map(function(e){e.link.classList.remove("selected")}),f.link.classList.add("selected")),f.el.classList.add("selected")),c&&window.location.hash)for(var m=0;m<h.tabs.length;m++){var E=h.tabs[m];E.hash===window.location.hash&&i(h,E)}}function s(e,t){for(var n=0;n<e.length;n++){var a=e[n];if(a.language===t)return a}return null}function l(e){for(var t=0;t<d.length;t++){var n=d[t];if(n.el===e)return n}return null}function c(e,t){for(var n=0;n<e.tabs.length;n++){var a=e.tabs[n];if(a.el===t)return a}return null}function u(e,t){for(var n=0;n<e.tabs.length;n++){var a=e.tabs[n];if(a.link===t)return a}return null}var d,g={};return{select:function(e,t,n){var a=l(e);if(!a)return void console.error("These tabs don't exist ",e);var r=c(a,t);if(!r)return void console.error("This tab doesn't exist ",t);i(a,r,n)},run:e}}(),anchors=function(){function e(e){for(var t=e.querySelectorAll("h2, h3, h4, h5, h6"),n=0;n<t.length;n++){var a=t[n],r=a.getAttribute("id"),i=a.getAttribute("data-no-anchor");if(!r&&null===i){var r=a.textContent;r=r.replace(/^[^a-zA-Z]+/,""),r=r.replace(/[^a-zA-Z0-9 -]/g,""),r=r.replace(/ /g,"-"),r=r.toLowerCase(),a.setAttribute("id",r)}if(r){var o=document.createElement("a");o.classList.add("anchor"),o.setAttribute("href","#"+r),a.appendChild(o)}}}return{run:e}}(),zoomableImages=function(){function e(){p||(p=document.createElement("div"),p.classList.add("fullscreen-container"),h=document.createElement("div"),h.classList.add("fullscreen-overlay"),p.appendChild(h),document.body.appendChild(p))}function t(e,t,n){var a=(e.getBoundingClientRect(),t.getBoundingClientRect()),r=e.parentNode.getBoundingClientRect(),i=n.getBoundingClientRect(),o=i.width/i.height,s=a.width/a.height,l=0;return translateX=i.left,translateY=i.top,o>s?(l=i.width/a.width,translateY+=(i.height/l-a.height)/2*l):(l=i.height/a.height,translateX+=(i.width/l-a.width)/2*l),translateX+=(r.left-a.left)*l,translateY+=(r.top-a.top)*l,{translateX:translateX,translateY:translateY,scaleX:l,scaleY:l}}function n(e,t,n){var r=new Image;r.addEventListener("load",function(){var e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(this,0,0),a(e.toDataURL("image/png"),t,n)}),r.src=e}function a(n,a,i){o(),c(),e(),dynamics.css(p,{display:""});var s=document.createElement("div");s.classList.add("fullscreen-image-container"),s.addEventListener("click",function(){r()});var l=document.createElement("div");l.classList.add("fullscreen-image-wrapper");var u=document.createElement("div");u.classList.add("fullscreen-image"),u.style.backgroundImage="url("+n+")",u.addEventListener("click",function(){r()}),s.appendChild(l),l.appendChild(u),v={originalImageEl:a,imageContainerEl:s,imageWrapperEl:l,imageEl:u},dynamics.css(u,{maxWidth:i.width,maxHeight:i.height}),p.appendChild(s);var d=t(l,u,a);dynamics.css(s,d),dynamics.css(a,{visibility:"hidden"}),dynamics.animate(h,{opacity:.85},{duration:250}),dynamics.animate(s,{scale:1},E)}function r(){if(v){var e=v.originalImageEl,n=v.imageContainerEl,a=v.imageWrapperEl,r=v.imageEl;i(),l();var o=t(a,r,e),s=p.getBoundingClientRect();document.body.appendChild(n),dynamics.css(n,{top:0,left:0,width:s.width,height:s.height}),dynamics.animate(v.imageEl,{scale:1},{duration:200}),dynamics.animate(n,o,tools.merge(E,{complete:function(){v||dynamics.css(p,{display:"none"}),dynamics.css(e,{visibility:""}),n.parentNode.removeChild(n)}})),dynamics.animate(h,{opacity:0},{duration:250}),v=null}}function i(){clearTimeout(f),document.removeEventListener("scroll",d)}function o(){m=scroll.get(),i(),document.addEventListener("scroll",d)}function s(e){27===e.keyCode&&r()}function l(){document.removeEventListener("keyup",s)}function c(){l(),document.addEventListener("keyup",s)}function u(){dynamics.animate(v.imageWrapperEl,{translateY:0},{duration:500,friction:200,complete:function(){m=scroll.get()}})}function d(){var e=scroll.get()-m,t=Math.abs(e)/180;dynamics.stop(v.imageWrapperEl),dynamics.css(v.imageWrapperEl,{translateY:-e/2,scale:1-.06*t}),t>1?r():(clearTimeout(f),f=setTimeout(u,50))}function g(e){for(var t=e.querySelectorAll("a.zoomable"),a=0;a<t.length;a++)!function(){var e=t[a],r=e.querySelector("img");e.addEventListener("click",function(t){t.preventDefault(),n(e.getAttribute("href")||originalImageEl.getAttribute("src"),r,{width:parseInt(e.getAttribute("data-width")),height:parseInt(e.getAttribute("data-height"))})})}()}var p,h,m,f,E={type:dynamics.spring,frequency:150,friction:340,anticipationStrength:0,anticipationSize:0,duration:500},v={};return{run:g}}(),parseKey=function(){function e(e,t){var n={top:Math.max(e.top,t.top),left:Math.max(e.left,t.left),bottom:Math.min(e.bottom,t.bottom),right:Math.min(e.right,t.right)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:n}function t(e){var t=document.createElement("div");return t.classList.add("key-popover"),t.innerHTML='<div class="key-popover-tick"></div>'+e,document.body.appendChild(t),t}function n(n,a,r){function i(){n.style.pointerEvents="none"}function o(){n.style.pointerEvents="auto"}var s="secret-key"===a?"secret":"publishable",l=r?"your":"a demo",c="This is "+l+" <strong>test</strong> "+s+" key.";r?(c+="<br>",r.name&&(c+='<span class="key-popover-merchant"><span class="key-popover-merchant-icon" style="background-image:url('+escapeHtml(r.icon)+');"></span>'+escapeHtml(r.name)+"</span>"),c+='<a href="https://dashboard.stripe.com/account/apikeys" target="_blank">View your other keys</a>'):c+='<br><a href="https://dashboard.stripe.com/login?redirect='+encodeURIComponent(window.location.href)+'">Sign in</a> to automatically see your own key.',n.classList.add(a);var u=!1;window.addEventListener("mousedown",i),window.addEventListener("mouseup",o),page.onPageChange(function(){window.removeEventListener("mousedown",i),window.removeEventListener("mouseup",o)}),n.addEventListener("mouseover",function(){function a(){u=!1,n.classList.remove("enabled"),dynamics.animate(i,{scale:.8,opacity:0},{friction:200,duration:200,type:dynamics.easeIn,complete:function(){document.body.removeChild(i)}}),window.removeEventListener("mousemove",r),scroll.el().removeEventListener("scroll",a)}function r(e){var t=e.target;!t||n==t||i==t||$.contains(n,t)||$.contains(i,t)||a()}if(!u){n.classList.add("enabled"),u=!0;for(var i=t(c),o=i.getBoundingClientRect(),s=n.getBoundingClientRect(),l=n.parentNode;l&&"pre"!==l.tagName.toLowerCase();)l=l.parentNode;if(l){var d=l.getBoundingClientRect(),g=e(s,d);g&&(s=g)}i.style.top=Math.round(s.top-o.height)+"px";var p=Math.round(s.left+s.width/2-o.width/2+document.body.scrollLeft);p+o.width+10>document.body.clientWidth&&(p=document.body.clientWidth-(o.width+10)),i.style.left=p+"px",dynamics.css(i,{scale:.8}),i.style.visibility="visible",dynamics.animate(i,{scale:1,opacity:1},{type:dynamics.spring,friction:500}),window.addEventListener("mousemove",r),scroll.el().addEventListener("scroll",a)}})}return function(e,t,a){Prism.hooks.add("complete",function(r){var i="";i="curl"===r.language?".token.value":".token.string";for(var o=r.element.querySelectorAll(i),s=0;s<o.length;s++){var l=o[s];l.textContent.match(e)&&n(l,t,a)}})}}(),sidebar=function(){function e(e,t){t==undefined&&(t=!0),e.removeAttribute("data-hidden"),e.classList.remove("hidden");var n=r(e);dynamics.animate(e,{opacity:1,height:n},{friction:250,duration:Math.max(150,n/3),animated:t})}function t(e){e.setAttribute("data-hidden",!0);var t=r(e);dynamics.animate(e,{opacity:0,height:0},{friction:250,duration:Math.max(150,t/3),complete:function(){e.classList.add("hidden")}})}function n(n){var a=$(p).filter(":not([data-hidden=true])"),r=a.get(0);r&&t(r),r!=n&&e(n)}function a(e){return e.classList.contains("hidden")}function r(e){for(var t=parseInt(e.getAttribute("data-height")),n=$(e).find("ul:not([data-hidden=true]):not([data-collapsable=false])").get(),a=0;a<n.length;a++)t+=parseInt(n[a].getAttribute("data-height"));return t}function i(e,t){t.setAttribute("data-trigger-id",b),v[b]=e;for(var n=e.getBoundingClientRect(),r=n.height,i=$(e).find("ul:not([data-hidden=true]):not([data-collapsable=false])").get(),o=0;o<i.length;o++){var n=i[o].getBoundingClientRect();r-=n.height}e.setAttribute("data-height",r),a(e)&&dynamics.css(e,{opacity:0,height:0}),b++}function o(){if(E){var n=[],a=$(m).filter(":not([data-hidden=true]):not([data-collapsable=false])").get(),r=E.getAttribute("data-trigger-id");if(r){var i=v[parseInt(r)];i&&(tools.remove(a,i),n.push(i))}for(var o=$(E).closest("ul");o.length>0;){var s=o.get(0);tools.remove(a,s),n.push(s),o=o.parent().closest("ul")}for(var l=0;l<a.length;l++)t(a[l]);for(var l=0;l<n.length;l++)e(n[l])}}function s(e){return e}function l(e){var t=L[s(e)];E&&(E.classList.remove("selected"),E=null),t&&(t.classList.add("selected"),E=t),o()}var c=document.querySelector("#content-wrapper"),u=document.querySelector("#sidebar"),d=u.querySelector("nav"),g=u.querySelectorAll("h1 a.toggle-content"),p=u.querySelectorAll("nav > ul"),h=u.querySelectorAll("nav > ul ul"),m=Array.prototype.slice.call(p).concat(Array.prototype.slice.call(h)),f=u.querySelectorAll("a"),E=u.querySelector("a.selected");c.focus(),u.addEventListener("click",function(){c.focus()}),d.addEventListener("scroll",function(){d.scrollTop>=37?u.classList.add("bordered"):u.classList.remove("bordered")});for(var v={},b=0,A=0;A<g.length;A++)!function(){var e=g[A],t=p[A];i(t,e),e.addEventListener("click",function(e){e.preventDefault(),n(t)})}();for(var A=0;A<h.length;A++)!function(){var e=h[A];i(e,e.parentNode.querySelector("a"))}();for(var L={},A=0;A<f.length;A++){var T=f[A];L[s(T.pathname)]=T}return{select:l}}(),setLoadingProgress=function(){var e,t=$("#loading-bar"),n=0;return function(a){a=Math.round(100*a)/100,0===n&&1===a||t.css({width:100*Math.min(1,a)+"%"}),a>=1||a<=0?e=setTimeout(function(){t.addClass("hidden")},150):(clearTimeout(e),t.hasClass("hidden")&&(t[0].offsetTop,t.removeClass("hidden"))),n=a}}(),links=function(){function e(e){for(var t=e.querySelectorAll("a"),n=0;n<t.length;n++){var a=t[n];"#"===(a.getAttribute("href")||"")[0]||a.classList.contains("anchor")||a.addEventListener("click",page.openLink)}}return{run:e}}(),overlayController=function(){function e(){n.style.visibility="hidden",n.removeEventListener("transitionend",e),a.classList.remove("has-overlay")}var t=null,n=document.querySelector(".overlay"),a=document.querySelector("#content-wrapper"),r=document.querySelector("#main-header"),i=document.querySelector("#content");return n.addEventListener("click",function(){t&&t()}),{show:function(o){t=o,n.style.height=r.clientHeight+i.clientHeight+"px",n.style.visibility="visible",n.offsetTop,n.removeEventListener("transitionend",e),n.classList.add("visible"),a.classList.add("has-overlay")},hide:function(){t=null,n.addEventListener("transitionend",e),n.classList.remove("visible")}}}(),extraLines=function(){return{run:function(e){var t=e.querySelectorAll(".code");Array.prototype.forEach.call(t,function(e){var t=e.querySelector(".show-extra-lines");t&&t.addEventListener("click",function(n){n.preventDefault();var a=e.querySelector("pre code"),r=e.querySelector(".extra-lines");a.innerHTML+="\n"+r.innerHTML,Prism.highlightElement(a),t.style.display="none"})})}}}(),hooks=function(){var e=[];return{push:function(t){e.push(t)},run:function(t){for(var n=0;n<e.length;n++)e[n](t)},hooks:e}}();hooks.push(function(e){for(var t=e.querySelectorAll("pre code"),n=0;n<t.length;n++)Prism.highlightElement(t[n])}),hooks.push(tabs.run),hooks.push(zoomableImages.run),hooks.push(faqs.run),hooks.push(anchors.run),hooks.push(links.run),hooks.push(extraLines.run);var page=function(){function e(){r=setInterval(function(){i+=.1,(new Date).getTime()>o+200&&(setLoadingProgress(i),i>=.8&&clearInterval(r))},100)}function t(){clearInterval(r)}function n(e){var t;return e&&(t=document.getElementById(e.substring(1))),!!t&&(t.scrollIntoView(),!0)}function a(a){for(var r=0;r<d.length;r++)d[r].abort();d=[],t(),setLoadingProgress(0),i=0,e(),o=(new Date).getTime(),$.ajax({type:"GET",url:a.href,dataType:"json",xhr:function(){var e=new window.XMLHttpRequest;return e.addEventListener("progress",function(e){e.lengthComputable&&(t(),(new Date).getTime()>o+200&&setLoadingProgress(i+(.9-i)*e.loaded/e.total))},!1),e},beforeSend:function(e){d.push(e)},complete:function(e){t();var n=d.indexOf(e);n>-1&&d.splice(n,1)},error:function(e){"abort"!==e.statusText&&window.open(a.href,"_self")},success:function(e,t,r){for(var i=0;i<u.length;i++)u[i]();u=[],e.head_css&&$(document.head).append(e.head_css),$(l).html(e.html),e.documentation_footer_js&&$(document.body).append(e.documentation_footer_js),c.textContent=e.title,n(a.hash)||scroll.set(0),hooks.run(l),l.offsetTop,setLoadingProgress(1);var o=r.getResponseHeader("X-Location");o&&history.replaceState({},"",o+document.location.hash),s=JSON.parse(JSON.stringify(document.location))}})}var r,i,o,s=JSON.parse(JSON.stringify(document.location)),l=document.querySelector("article#content"),c=document.querySelector("head title"),u=[],d=[];return window.addEventListener("popstate",function(){document.location.pathname!=s.pathname?(sidebar.select(document.location.pathname),a(document.location)):n(document.location.hash)||scroll.set(0)}),{openLink:function(e){if(!e.metaKey&&!e.ctrlKey){var t=$(e.target).closest("a").attr("href")||"",n=$(e.target).closest("a").get(0);if("#"!==t[0]&&!n.classList.contains("anchor")){if(n.classList.contains("search-link")){var a=document.querySelector(".search input");a&&(a.focus(),a.select())}page.openURL(n)&&e.preventDefault&&e.preventDefault()}}},openURL:function(e){return e.pathname&&e.pathname.match(/^\/docs/)&&!e.pathname.match(/^\/docs\/api/)?(history.pushState({},"",e.href),sidebar.select(e.pathname),a(e),!0):!!e.pathname.match(/^\/docs\/api/)&&(window.location=e,!0)},scrollToHash:function(){n(document.location.hash)},onPageChange:function(e){u.push(e)}}}();window.addEventListener("pageshow",function(e){e.persisted&&window.location.reload()}),hooks.run(document.querySelector("article#content")),links.run(document.querySelector("#sidebar")),page.scrollToHash();