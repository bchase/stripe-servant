window.APIDocs=function(){"use strict";function e(e,t,n){var i;return function(){var a=this,o=arguments,s=function(){i=null,n||e.apply(a,o)},r=n&&!i;clearTimeout(i),i=setTimeout(s,t),r&&e.apply(a,o)}}function t(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function n(e){for(var t=e.querySelectorAll("code"),n=0;n<t.length;n++)Prism.highlightElement(t[n])}function i(e){e.removeClass("expanded"),e.next(".method-list-group").css("display","none")}function a(e){e.addClass("expanded"),e.next(".method-list-group").css("display","block")}function o(e){for(var t=e.querySelectorAll(".method-list-item"),n=0;n<t.length;n++){var e=$(t[n]),i=e.attr("id");if(i){var a=$("<a />");a.attr("href","#"+i),a.addClass("header-anchor"),a.on("click",function(e){var t="#"+this.href.split("#")[1];s(t),window.history&&window.history.replaceState&&history.replaceState({},"",t),e.preventDefault()}),e.children("h3").first().prepend(a)}}}function s(e){var e=e.replace(/[^\w\-#.]/g,"");if(e=e.replace(/\./g,"\\."),0!=$(e).length){$(e).parents(".method-list-child").each(function(){a($(this).children(".method-list-title"))});var t=$(e).children(".method-list").children(".method-list-title");t.length>0&&a(t);var n=$(e).offset().top-k.offset().top+k.scrollTop();k.scrollTop(n)}}function r(e){e=e.split("-")[0],z=document.querySelector(".method#"+e);var n=B[e];if(n){var i=n.parentId||e;A.val(i);var a=n.$link;if(O!==a){O.removeClass("selected"),O=a.addClass("selected");var o=null;if(n.isExpandable?j!==a&&(o=a):n.$parent?j!==n.$parent&&(o=n.$parent):o=$(),o){var s=j.siblings(".sidebar-nav-items"),r=o.siblings(".sidebar-nav-items");j.parent().removeClass("expanded"),o.parent().addClass("expanded"),s.css({height:0}),r.css({height:r.attr("data-height")}),j=o}E&&!t(O[0])&&O[0].scrollIntoView(!1)}}}function l(e){var t=B[e];if(t){var n=t.$link;if(n.removeClass("disabled"),t.isExpandable){n.siblings(".sidebar-nav-items").find(".sidebar-nav-item").each(function(e,t){$(t).removeClass("disabled")})}}}function c(e){M--,e(),setTimeout(function(){M++},100)}function d(e){c(function(){if(!z)return e();var t=(z.parentNode,z.getBoundingClientRect().top);e();var n=z.getBoundingClientRect().top,i=k.scrollTop();i+=n-t,k.scrollTop(i)})}function h(e){d(function(){var t=$(".method-example.cards, .method-example.bank-accounts");t.find(".method-example-switcher .method-example-switcher-position a").removeClass("selected"),t.find(".method-example-switcher .method-example-switcher-position a."+e).addClass("selected"),t.find(".method-example-specific").addClass("hide"),t.find(".method-example-specific."+e).removeClass("hide")})}function u(e){window.history&&window.history.replaceState&&history.replaceState({},document.title,e)}function f(e){c(function(){s("#"+e),r(e),u("#"+e)})}function p(){Waypoint.refreshAll()}function m(){if(!D){D=!0;for(var t=e(u,50),n=function(){if(!(M<1)){var e,n=this.element.getAttribute("id"),i="#"+n;location.hash&&(e=location.hash.split("-")[0]),e!=i&&(t(i),r(n))}},i=document.querySelectorAll("#content section[id]"),a=0;a<i.length;a++)P.push(new Waypoint({continuous:!1,element:i[a],context:k[0],handler:n}))}}function g(e,t,i){var a=y,r={sections:e};t&&(r.version=t),$.ajax({type:"GET",url:"/docs/api/"+a+"/sections",dataType:"json",data:r,beforeSend:function(e){N.push(e)},complete:function(e){var t=N.indexOf(e);t>-1&&N.splice(t,1)},success:function(e){if(a===y){i();for(var t=Object.keys(e),r=[],c=0;c<t.length;c++){var h=t[c],u=document.createDocumentFragment();$(e[h]).each(function(e,t){u.appendChild(t)}),n(u),o(u);var f=document.querySelector(".method#"+h);r.push({fragment:u,parent:f,sectionName:h})}d(function(){for(var e=0;e<r.length;e++){var t=r[e];t.parent.innerHTML="",t.parent.appendChild(t.fragment),l(t.sectionName)}p()}),H&&L&&(m(),location.hash&&s(location.hash),H=!1)}}})}function v(e,t){function n(e,o){var s=y,r=e.slice(0,o);r.length>0?g(r,C,function(){t.progress&&(a+=o,x(a/i)),s===y&&n(e.slice(o),20)}):I=!0}t=t||{},t.progress=null==t.progress||t.progress;var i=e.length+1,a=1;t.progress&&x(a/i),n(e,5)}function b(e){y=e;for(var t=0;t<N.length;t++)N[t].abort();N=[],v(w(W),{progress:!I})}function w(e){var t=location.hash.substring(1).split("-")[0],n=e.indexOf(t),i=e.slice();return i.sort(function(t,i){return Math.abs(e.indexOf(t)-n)>Math.abs(e.indexOf(i)-n)?1:-1}),i}function x(e){e=Math.round(100*e)/100,R.css({width:100*Math.min(1,e)+"%"}),e>=1?R.addClass("hidden"):R.hasClass("hidden")&&(R[0].offsetTop,R.removeClass("hidden"))}Prism.languages.json=Prism.languages.insertBefore("clike","string",{"json-key":/(?:\n\s*)("|')(\\\n|\\?.)*?("|')/g,"json-string":/("|')(\\\n|\\?.)*?\1/g}),Prism.languages.insertBefore("bash","operator",{"api-key":{pattern:/(?:-u )([a-zA-Z0-9_]+)/g,inside:{"request-flag":/(^-u)/g}},"request-param":{pattern:/(?:-d )([a-zA-Z0-9]+)/g,inside:{"request-flag":/(^-d)/g}},"request-value":{pattern:/(?:=)(.*?)(?:\n|\\)/g,inside:{operator:/(^=)|(\\$)/g}}}),Prism.languages.insertBefore("bash","number",{"request-url":{pattern:/(?:^curl )(.*?)(?:\n|\\)/g,inside:{operator:/(\\$)/g,keyword:/(^curl)/g}}});var y,C,S=$("body"),k=$("#content"),T=$("#language"),A=($(".method"),$(".jump-menu select")),q=$("#sidebar"),O=$(),j=$(),B={},E=q.is(":visible"),P=[],W=[],D=!1,M=1,I=!1;S.on("click",".method-list-child .method-list-title",function(){var e=$(this);-1!==e.attr("class").indexOf("expanded")?i(e):a(e),p()}),A.on("change",function(){s("#"+A.val())}),q.find(".sidebar-nav-item").each(function(){var e=this.href.split("#")[1],t=$(this);B[e]={$link:t}}),q.find(".sidebar-nav-item.expandable").each(function(){var e=this.href.split("#")[1],t=$(this);B[e].isExpandable=!0;var n=t.siblings(".sidebar-nav-items");n.attr("data-height",n.height()),n.find(".sidebar-nav-item").each(function(){var n=this.href.split("#")[1];B[n].$parent=t,B[n].parentId=e})}),q.find(".sidebar-nav-items").addClass("loaded");var z=null;S.on("click",".method-example-switcher .method-example-switcher-position a",function(e){e.preventDefault();var t=$(e.currentTarget).attr("class").replace(/method-example-switcher-switch\s*/,"");-1===t.indexOf("selected")&&(h(t),$.cookie("cardType",t,{expires:1825,path:"/",domain:".stripe.com",secure:!0}))}),q.on("click",".sidebar-nav-item",function(e){f(this.href.split("#")[1]),e.preventDefault()}),S.find("#header .logo .docs").on("click",function(e){f("intro"),e.preventDefault()}),T.on("change",".language-toggle-source",function(){var e=$(this).data("language");u("/docs/api/"+e+window.location.hash),setTimeout(function(){b(e),$.cookie("lang",e,{expires:1825,path:"/",domain:function(){var e=window.location.hostname||"stripe.com";return e.match("stripe.com")?".stripe.com":e}()})},10)}),S.on("click","a.show-parameters",function(e){$(e.currentTarget).parent().parent().removeClass("collapsed")}),S.on("hover",".method-list-item-label-changes",function(){var e=$(this),t=e.attr("data-changes"),n=e.offset(),i=$(".changes-tooltip");i.find("ul").replaceWith(t),$(document).width()<1030?i.css({top:n.top-i.height()/2-10,left:n.left+25}):i.css({top:n.top+25,left:n.left-i.width()/2-13}),i.show()}),S.on("mouseout",".method-list-item-label-changes",function(){$(".changes-tooltip").hide()});var F=0;$(window).on("resize",function(){M--,clearTimeout(F),F=setTimeout(function(){location.hash&&s(location.hash),p(),E=q.is(":visible"),M++},100)});var H=!0,N=[],R=$("#loading-bar"),L=!1,Z=new FontLoader(["Source Code Pro","Whitney SSm A","Whitney SSm B"],{complete:function(){L=!0,location.hash&&s(location.hash)}},3e3);return{load:function(e){e=e||{},e.lang=e.lang||"curl",e.loadedSections=e.loadedSections||[],y=e.lang,C=e.version,W=Array.prototype.map.call(document.querySelectorAll(".method"),function(e){return e.getAttribute("id")});for(var t=0;t<e.loadedSections.length;t++)l(e.loadedSections[t]);var n=w(W);n=n.filter(function(t){return-1==e.loadedSections.indexOf(t)}),v(n),location.hash&&r(location.hash.substring(1)),Z.loadFonts()}}}();